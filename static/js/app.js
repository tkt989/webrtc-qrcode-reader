webpackJsonp([1],{"/wHQ":function(t,e){},"5YvW":function(t,e){},Aij7:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ToolBar"},[e("ons-icon",{attrs:{id:"help",icon:"fa-question-circle",size:"32px","fixed-width":"true"}}),this._v(" "),e("div",{attrs:{id:"help-bg"}})],1)},staticRenderFns:[]};var r=n("VU/8")({name:"ToolBar",mounted:function(){}},a,!1,function(t){n("Aij7")},"data-v-10b09494",null).exports,o={name:"CameraView",computed:{isRecording:function(){return this.$store.state.isRecording}},watch:{isRecording:function(t,e){this.isRecording?this.start():this.stop()}},mounted:function(){this.start()},methods:{start:function(){var t=this,e=this;function n(){e.isRecording&&(e.$emit("update-frame",e.$refs.video),requestAnimationFrame(n))}navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(e){t.$refs.video.src=window.URL.createObjectURL(e),requestAnimationFrame(n)})},stop:function(){this.$refs.video.pause()}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"CameraView"},[e("video",{ref:"video",attrs:{playsinline:"",autoplay:""}})])},staticRenderFns:[]};var c=n("VU/8")(o,s,!1,function(t){n("Vagp")},"data-v-68107cf2",null).exports,u=new RegExp("(https?://[\\w/:%#\\$&\\?\\(\\)~\\.=\\+\\-]+)"),d={name:"ResultPage",props:{data:""},computed:{html:function(){return this.data.replace(u,'<a href="$1">$1</a>')}},methods:{back:function(t){this.$store.commit("startRecording")}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-ons-page",[e("v-ons-toolbar",[e("div",{staticClass:"left"},[e("v-ons-back-button",{on:{click:this.back}},[this._v("Back")])],1)]),this._v(" "),e("p",{domProps:{innerHTML:this._s(this.html)}})],1)},staticRenderFns:[]};var h=n("VU/8")(d,p,!1,function(t){n("5YvW")},"data-v-71381a45",null).exports,f=n("rnZi"),g=n.n(f),l={name:"CameraPage",components:{ToolBar:r,CameraView:c,ResultPage:h},props:{stop:!1},mounted:function(){},methods:{scan:function(t){var e=document.createElement("canvas"),n=e.getContext("2d");e.height=t.videoHeight,e.width=t.videoWidth,n.drawImage(t,0,0,e.width,e.height);var i=n.getImageData(0,0,e.width,e.height),a=g()(i.data,i.width,i.height);null!=a&&0!=a.binaryData.length&&(this.$emit("push-page",{extends:h,onsNavigatorProps:{data:a.data}}),navigator.vibrate(200),this.$store.commit("stopRecording"))}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ons-page",[e("CameraView",{attrs:{id:"CameraView",stop:this.stop},on:{"update-frame":this.scan}})],1)},staticRenderFns:[]};var v=n("VU/8")(l,m,!1,function(t){n("/wHQ")},"data-v-6593e7f0",null).exports,w={name:"App",components:{CameraPage:v},data:function(){return{pageStack:[v]}},mounted:function(){},methods:{stopRecording:function(t){console.log(t),t.currentPage==v&&(t.currentPage.stop=!0)},startRecording:function(t){t.currentPage==v&&(t.currentPage.stop=!1)}}},R={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-ons-navigator",{attrs:{id:"app",swipeable:"","page-stack":t.pageStack},on:{"push-page":function(e){t.pageStack.push(e)},prepush:t.stopRecording}})},staticRenderFns:[]};var b=n("VU/8")(w,R,!1,function(t){n("zZXb")},null,null).exports,$=n("EOUi"),_=n.n($),k=n("NYxO");i.a.use(k.a);var V=new k.a.Store({state:{isRecording:!0},mutations:{startRecording:function(t){t.isRecording=!0},stopRecording:function(t){t.isRecording=!1}}});n("Xrl+"),n("fLmE");i.a.use(_.a),i.a.config.productionTip=!1,new i.a({el:"#app",store:V,components:{App:b},template:"<App/>"}),navigator.serviceWorker.register("./static/sw.js").then(function(t){console.debug("Service worker registration success")}).catch(function(t){console.debug("Service worker registration failed")})},Vagp:function(t,e){},"Xrl+":function(t,e){},fLmE:function(t,e){},zZXb:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map